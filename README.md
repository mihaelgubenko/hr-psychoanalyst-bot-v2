# HR-Психоаналитик Бот v2.0

## 🎯 Оптимизированная архитектура с интегрированным управлением токенами

### ✨ Ключевые особенности

- **Модульная архитектура** - четкое разделение ответственности
- **Умное управление токенами** - автоматическое предотвращение обрывов
- **Адаптивные промпты** - автоматический выбор оптимального промпта
- **Кэширование ответов** - снижение затрат и повышение скорости
- **Мониторинг в реальном времени** - автоматическая оптимизация
- **Контекстное сжатие** - умное сжатие диалогов

### 🏗️ Архитектура проекта

```
hr-psychoanalyst-bot-v2/
├── bot/                    # Основной код бота
│   ├── __init__.py
│   ├── main.py            # Точка входа
│   ├── config.py          # Конфигурация
│   └── database.py        # База данных
├── core/                  # Ядро системы
│   ├── __init__.py
│   ├── bot.py            # Основной класс бота
│   ├── token_manager.py  # Управление токенами
│   ├── context_compressor.py # Сжатие контекста
│   └── response_cache.py # Кэширование
├── ai/                    # AI компоненты
│   ├── __init__.py
│   ├── openai_client.py  # Клиент OpenAI
│   ├── prompt_manager.py # Управление промптами
│   └── monitor.py        # Мониторинг
├── handlers/              # Обработчики
│   ├── __init__.py
│   ├── messages.py       # Обработка сообщений
│   ├── analysis.py       # Анализ личности
│   └── conversations.py  # Диалоги
├── modules/               # Модули
│   ├── __init__.py
│   ├── self_esteem.py    # Тест самооценки
│   ├── sentiment.py      # Анализ настроений
│   └── ab_testing.py     # A/B тестирование
├── tests/                 # Тесты
│   ├── __init__.py
│   ├── test_architecture.py
│   └── test_bot_simple.py
├── docs/                  # Документация
│   ├── API.md
│   └── DEPLOYMENT.md
├── scripts/               # Скрипты
│   ├── clear_memory.py
│   └── deploy.sh
├── config/                # Конфигурация
│   ├── .env.example
│   └── settings.yaml
└── requirements.txt
```

### 🚀 Быстрый старт

1. **Установка зависимостей:**
```bash
pip install -r requirements.txt
```

2. **Настройка конфигурации:**
```bash
cp config/.env.example .env
# Отредактируйте .env файл с вашими ключами
```

3. **Запуск бота:**
```bash
python bot/main.py
```

### 📊 Функциональность

- ✅ **Экспресс-анализ** - анализ личности после 10 сообщений
- ✅ **Полный анализ** - 7 профессиональных вопросов
- ✅ **Тест самооценки** - 30 вопросов из книги "Восхождение"
- ✅ **Психологическая поддержка** - по ключевым словам
- ✅ **Карьерная консультация** - помощь с работой
- ✅ **Автоматическое управление токенами** - без обрывов ответов
- ✅ **Кэширование** - быстрые повторные ответы
- ✅ **Мониторинг** - автоматическая оптимизация

### 🔧 Технологии

- **Python 3.11+**
- **python-telegram-bot** - Telegram API
- **OpenAI GPT-4** - ИИ для анализа
- **SQLite** - База данных
- **Pydantic** - Валидация данных
- **Structlog** - Логирование
- **Pytest** - Тестирование

### 📈 Преимущества v2.0

- **Надежность** - автоматическое предотвращение ошибок
- **Эффективность** - оптимизация использования ресурсов
- **Масштабируемость** - легко добавлять новые функции
- **Мониторинг** - полный контроль над системой
- **Адаптивность** - система подстраивается под пользователей

### 📞 Поддержка

Для вопросов и предложений создавайте Issues в репозитории.

---

**Версия:** 2.0  
**Статус:** Готов к продакшену  
**Лицензия:** MIT
